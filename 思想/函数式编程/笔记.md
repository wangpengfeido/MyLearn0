### 函数式编程
函数式编程是一种**编程范式**，是一种构建计算机程序结构的风格。在函数式编程中，电脑运算被视为数学函数计算，函数被定义为返回一个值的一系列计算，而非直接修改程序状态的命令语句。

函数式编程优点：
* 数据易追踪

### 函数是一等公民
可以理解为函数式普通公民，函数与其他对象是相同的。

* 函数可以作为常量和变量被引用
* 函数可以作为参数传递给其他函数
* 函数可以作为其他函数的返回结果

这在JavaScript中是天然成立的。

函数是一等公民，是函数式编程的前提。

### 纯函数
对于一个纯函数：
* 给定相同的参数，返回相同的结果（确定性）
* 不会引起副作用

不是纯函数的情况：
* 不确定性的函数，例如，引用外部可变变量，读取外部文件，查询DOM，生成随机数；
* 引起副作用函数，例如，修改函数外部数据，打印log，发送http请求。

**引入纯函数后，函数真正成为了两个值之间的映射关系。** 这使得我们可以以数学的方式思考计算机中函数的概念。

纯函数的优点：
* 可缓存。因为纯函数有引用透明性，对于相同的输入总有相同的输出，可以把一个函数的调用替换成一个数值。所以可以将函数调用结果缓存下来。
* 可移植。因为不依赖于外部环境。
* 自文档化。因为依赖是明确的。
* 可测试。
* 引用透明性。每个函数执行都可替换为其执行的结果。这使得分析理解程序变得比较容易。
* 并行代码。可以并行运行任意纯函数，因为不需要访问共享的内存和数据，纯函数也不会因副作用而进入竞争态。

### 柯里化
将接受多个参数的函数，变换成接受单一参数的函数，并返回一个函数接受并处理余下的参数。

lodash:curry.

最好将需要操作的数据放在最后一个参数传入。

利用柯里化，传给函数一些参数，就能得到一个新函数。

### 偏函数
一个函数，固定其中的几个参数值，从而得到一个新的函数。

有时会使用偏函数替代柯里化。

lodash:partial.

使用````Function.prototype.bind````方法可以实现简单的偏函数功能。

### 组合
组合是像管道一样，将数据经过不同函数逐渐加工，它是对过程的封装。

lodash:flow.

组合满足结合律。这使得任何一个函数分组都可以拆开来，再以他们自己的方式组合在一起。

### point free
函数无须提及将要操作的数据是什么样的，函数只是其他函数的复合。

利用柯里化与组合可以非常容易地实现这种模式。

### 声明式编程与命令式编程
命令式是通过编写一条一条指令让计算机执行一些动作，这会涉及到很多繁杂的细节。而声明式通过表达式声明我们想干什么，不关心其中的过程。

例如：使用jquery修改dom文字颜色，需要一步一步找到dom，属性赋值；而react只需要直接告诉jsx即可。

再如：
````javascript
//命令式
var CEOs = [];
for(var i = 0; i < companies.length; i++){
    CEOs.push(companies[i].CEO)
}

//声明式
var CEOs = companies.map(c => c.CEO);
````

### 范畴学
有以下这些component的collection构成一个范畴
* 对象的collection。对象就是数据类型，一个数据类型可以看做是所有可能值的集合，这样就可以利用集合论处理类型。
* 态射的collection。态射是标准的、普通的纯函数。
* 态射的组合。也就是组合。
* Identity 这个独特的态射。一个原封返回的特殊函数。````const identity=x=>x````。lodash:identity.

### functor 函子
> a functor is nothing more than a data structure you can map functions over with the purpose of lifting values from a container, modifying them, and then putting them back into a container. 

functor 是一个特殊的容器类型，它对数值提供了一层包裹。见[实现代码](./10500functor/110容器.js)

![](./sth/functor.png)

functor 的作用：
* 链式调用。
* Immutable。数据变成了不可变的。
* 将控制权交给 Container。它可以决定如何调用传给 fmap 的函数，可以做 空值判断/异步处理/惰性求值 等工作。

从范畴学来说，functor 是 接受一个范畴的对象和态射，然后把它们映射到另一个范畴里去。

js 中例如 Array.prototype.map, Array.prototype.filter 等都是 functor 


